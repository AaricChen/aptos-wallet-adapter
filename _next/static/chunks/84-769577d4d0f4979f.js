(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[84],{2819:function(t,e,n){"use strict";n.r(e),n.d(e,{DEVNET_NODE_URL:function(){return i},default:function(){return h}});var s=n(7458),a=n(234),l=n(3341),r=n(2983);function o(t){let{text:e}=t;return(0,s.jsxs)("div",{className:"bg-teal-100 border border-teal-400 text-teal-900 px-4 py-3 rounded relative",role:"alert",children:[(0,s.jsx)("span",{className:"block sm:inline break-all right-3",children:e}),(0,s.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:(0,s.jsxs)("svg",{className:"fill-current h-6 w-6 text-teal-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[(0,s.jsx)("title",{children:"Close"}),(0,s.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})}function c(t){let{text:e}=t;return(0,s.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:[(0,s.jsx)("span",{className:"block sm:inline break-all",children:e}),(0,s.jsx)("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:(0,s.jsxs)("svg",{className:"fill-current h-6 w-6 text-red-500",role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:[(0,s.jsx)("title",{children:"Close"}),(0,s.jsx)("path",{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"})]})})]})}let i="https://fullnode.devnet.aptoslabs.com/v1",d=new a.gK(i,{WITH_CREDENTIALS:!1});function h(t){let{wallets:e}=t,{connect:n,disconnect:a,account:i,network:h,wallet:u,signAndSubmitTransaction:w,signTransaction:m,signMessage:x}=(0,l.O)(),[g,p]=(0,r.useState)(""),[y,f]=(0,r.useState)(""),b=t=>{n(t)},v=async()=>{let t={type:"entry_function_payload",function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[null==i?void 0:i.address,1]};try{let e=await w(t);await d.waitForTransaction((null==e?void 0:e.hash)||""),p("https://explorer.devnet.aptos.dev/txn/".concat(null==e?void 0:e.hash))}catch(n){console.log("error",n),f(n)}},j=async()=>{let t={type:"entry_function_payload",function:"0x1::coin::transfer",type_arguments:["0x1::aptos_coin::AptosCoin"],arguments:[null==i?void 0:i.address,1]};try{let e=await m(t);console.log("response",e)}catch(n){console.log("error",n),f(n)}},_=async()=>{try{let t=await x({message:"Hello from Aptos Wallet Adapter",nonce:"random_string"});p(JSON.stringify(t)),console.log("response",t)}catch(e){console.log("error",e),f(e)}};return(0,s.jsxs)("div",{children:[g.length>0&&(0,s.jsx)(o,{text:g}),y.length>0&&(0,s.jsx)(c,{text:y}),(0,s.jsx)("table",{className:"table-auto w-full border-separate border-spacing-y-8 shadow-lg bg-white border-separate",children:(0,s.jsxs)("tbody",{children:[(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-8 py-4 w-1/4",children:(0,s.jsx)("h3",{children:"Connect a Wallet"})}),(0,s.jsx)("td",{className:"px-8 py-4 w-3/4",children:(0,s.jsx)("div",{children:null==e?void 0:e.map(t=>(0,s.jsx)("button",{className:"bg-blue-500  text-white font-bold py-2 px-4 rounded mr-4 ".concat("Installed"!==t.readyState?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"),disabled:"Installed"!==t.readyState,onClick:()=>b(t.name),children:t.name},t.name))})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-8 py-4 border-t w-1/4",children:(0,s.jsx)("h3",{children:"Actions"})}),(0,s.jsx)("td",{className:"px-8 py-4 border-t break-all w-3/4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded mr-4",onClick:a,children:"Disconnect"}),(0,s.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded mr-4",onClick:v,children:"Sign and submit transaction"}),(0,s.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded mr-4",onClick:j,children:"Sign transaction"}),(0,s.jsx)("button",{className:"bg-blue-500 text-white font-bold py-2 px-4 rounded mr-4",onClick:_,children:"Sign Message"})]})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-8 py-4 border-t w-1/4",children:(0,s.jsx)("h3",{children:"Wallet Name"})}),(0,s.jsxs)("td",{className:"px-8 py-4 border-t w-3/4",children:[(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("img",{style:{width:"25px",marginRight:"20px"},src:null==u?void 0:u.icon}),JSON.stringify(null==u?void 0:u.name)]}),(0,s.jsx)("div",{children:(0,s.jsx)("a",{target:"_blank",href:null==u?void 0:u.url,children:null==u?void 0:u.url})})]})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-8 py-4 border-t",children:(0,s.jsx)("h3",{children:"Account"})}),(0,s.jsx)("td",{className:"px-8 py-4 border-t break-all",children:(0,s.jsx)("div",{children:JSON.stringify(i)})})]}),(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-8 py-4 border-t",children:(0,s.jsx)("h3",{children:"Network"})}),(0,s.jsx)("td",{className:"px-8 py-4 border-t",children:(0,s.jsx)("div",{children:JSON.stringify(h)})})]})]})})]})}},3341:function(t,e,n){"use strict";n.d(e,{A:function(){return N},O:function(){return l}});var s=n(2983);let a=(0,s.createContext)({connected:!1});function l(){let t=(0,s.useContext)(a);if(!t)throw Error("useWallet must be used within a WalletContextState");return t}var r=n(7458),o=n(1883),c=class extends Error{constructor(t,e){super(t),this.error=e}},i=class extends c{constructor(){super(...arguments),this.name="WalletNotSelectedError"}},d=class extends c{constructor(){super(...arguments),this.name="WalletNotReadyError"}},h=class extends c{constructor(){super(...arguments),this.name="WalletConnectionError"}},u=class extends c{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},w=class extends c{constructor(){super(...arguments),this.name="WalletAccountError"}},m=class extends c{constructor(){super(...arguments),this.name="WalletGetNetworkError"}},x=class extends c{constructor(){super(...arguments),this.name="WalletAccountChangeError"}},g=class extends c{constructor(){super(...arguments),this.name="WalletNetworkChangeError"}},p=class extends c{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},y=class extends c{constructor(){super(...arguments),this.name="WalletSignMessageError"}},f=class extends c{constructor(){super(...arguments),this.name="WalletSignAndSubmitMessageError"}},b=class extends c{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},v="AptosWalletName",j=class extends o.EventEmitter{isWalletExists(){if(!this._connected||this._connecting||!this._wallet)throw new p().name;if(!("Loadable"===this._wallet.readyState||"Installed"===this._wallet.readyState))throw new d().name;return!0}clearData(){this.setWallet(null),this.setAccount(null),this.setNetwork(null),localStorage.removeItem(v)}setWallet(t){this._wallet=t}setAccount(t){this._account=t}setNetwork(t){this._network=t}isConnected(){return this._connected}get wallet(){try{if(!this._wallet)return null;return{name:this._wallet.name,icon:this._wallet.icon,url:this._wallet.url}}catch(t){throw new i(t).message}}get account(){try{return this._account}catch(t){throw new w(t).message}}get network(){try{return this._network}catch(t){throw new m(t).message}}async connect(t){var e,n;try{this._connecting=!0;let s=null==(e=this._wallets)?void 0:e.find(e=>e.name===t);if(!s||"Installed"!==s.readyState)return;this.setWallet(s);let a=await s.connect();this.setAccount({...a});let l=await s.network();this.setNetwork({...l}),n=s.name,localStorage.setItem(v,n),this._connected=!0,this.emit("connect",a)}catch(r){throw this.clearData(),new h(r).message}finally{this._connecting=!1}}async disconnect(){var t;try{await (null==(t=this._wallet)?void 0:t.disconnect()),this._connected=!1,this.clearData(),this.emit("disconnect")}catch(e){throw new u(e).message}}async signAndSubmitTransaction(t){var e;try{this.isWalletExists();let n=await (null==(e=this._wallet)?void 0:e.signAndSubmitTransaction(t));return n}catch(a){let s="object"==typeof a&&"message"in a?a.message:a;throw new f(s).message}}async signTransaction(t){try{if(this._wallet&&!("signTransaction"in this._wallet))return null;this.isWalletExists();let e=await this._wallet.signTransaction(t);return e}catch(s){let n="object"==typeof s&&"message"in s?s.message:s;throw new b(n).message}}async signMessage(t){var e;try{if(this.isWalletExists(),!this._wallet)return null;let n=await (null==(e=this._wallet)?void 0:e.signMessage(t));return n}catch(a){let s="object"==typeof a&&"message"in a?a.message:a;throw new y(s).message}}async onAccountChange(){var t;try{this.isWalletExists(),await (null==(t=this._wallet)?void 0:t.onAccountChange(t=>{this.setAccount({...t}),this.emit("accountChange",this._account)}))}catch(n){let e="object"==typeof n&&"message"in n?n.message:n;throw new x(e).message}}async onNetworkChange(){var t;try{this.isWalletExists(),await (null==(t=this._wallet)?void 0:t.onNetworkChange(t=>{this.setNetwork({...t}),this.emit("networkChange",this._network)}))}catch(n){let e="object"==typeof n&&"message"in n?n.message:n;throw new g(e).message}}constructor(t){super(),this._wallets=null,this._wallet=null,this._account=null,this._network=null,this._connecting=!1,this._connected=!1,this._wallets=t,this._wallets.forEach(t=>{t.readyState="undefined"==typeof document?"Unsupported":"NotDetected","Unsupported"!==t.readyState&&function(t){if("undefined"==typeof document)return;let e=[];function n(){let n=t();if(n)for(let s of e)s()}let s=setInterval(n,1e3);e.push(()=>clearInterval(s)),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),e.push(()=>document.removeEventListener("DOMContentLoaded",n))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),e.push(()=>window.removeEventListener("load",n))),n()}(()=>"provider"in t&&!!t.provider&&(t.readyState="Installed",!0))})}};let _={connected:!1,account:null,network:null,wallet:null},N=t=>{let{children:e,plugins:n,autoConnect:l=!1}=t,[o,c]=(0,s.useState)(new j(n)),[{connected:i,account:d,network:h,wallet:u},w]=(0,s.useState)(_),[m,x]=(0,s.useState)(!1);(0,s.useEffect)(()=>{x(!0)},[]);let g=t=>{try{o.connect(t)}catch(e){console.log("connect error",e)}},p=()=>{try{o.disconnect()}catch(t){console.log("disconnect error",t)}},y=async t=>{try{return await o.signAndSubmitTransaction(t)}catch(e){throw e}},f=async t=>{try{return await o.signTransaction(t)}catch(e){throw e}},b=async t=>{try{return await o.signMessage(t)}catch(e){throw e}};(0,s.useEffect)(()=>{l&&localStorage.getItem("AptosWalletName")&&g(localStorage.getItem("AptosWalletName"))},[]),(0,s.useEffect)(()=>{i&&(o.onAccountChange(),o.onNetworkChange())},[o,i]);let v=(0,s.useCallback)(()=>{w(t=>({...t,connected:!0,account:o.account,network:o.network,wallet:o.wallet}))},[i]),N=(0,s.useCallback)(()=>{i&&w(t=>({...t,connected:!1,account:o.account,network:o.network,wallet:null}))},[i]),k=(0,s.useCallback)(()=>{i&&o.wallet&&w(t=>({...t,account:o.account}))},[i]),C=(0,s.useCallback)(()=>{i&&o.wallet&&w(t=>({...t,network:o.network}))},[i]);return((0,s.useEffect)(()=>{if(o)return o.on("connect",v),o.on("disconnect",N),o.on("accountChange",k),o.on("networkChange",C),()=>{o.off("connect",v),o.off("disconnect",N),o.off("accountChange",k),o.off("networkChange",C)}},[o,i]),m)?(0,r.jsx)(a.Provider,{value:{connect:g,account:d,network:h,connected:i,disconnect:p,wallet:u,signAndSubmitTransaction:y,signTransaction:f,signMessage:b},children:e}):(0,r.jsx)(r.Fragment,{})}},3938:function(){}}]);